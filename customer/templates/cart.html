{% extends 'nav.html' %}
{% block nav %}

{% if messages %}
{% for i in messages %}
{% if i.level == DEFAULT_MESSAGE_LEVELS.ERROR %}
<div class="alert alert-danger alert-dismissible fade show" role="alert">
  <strong>{{i}}</strong>
  <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
</div>
{% endif %}
{% if i.level == DEFAULT_MESSAGE_LEVELS.INFO %}
<div class="alert alert-info alert-dismissible fade show" role="alert">
  <strong>{{i}}</strong>
  <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
</div>
{% endif %}
{% if i.level == DEFAULT_MESSAGE_LEVELS.SUCCESS %}
<div class="alert alert-success alert-dismissible fade show" role="alert">
  <strong>{{i}}</strong>
  <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
</div>
{% endif %}
{% endfor %}
{% endif %}
    <table class="ms-1 me-5 table border-1">
    <thead>
        <tr>
            <th>ID</th>
            <th>Product</th>
            <th>Image</th>
            <th>Price</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
    {% for i in cartitems %}
    <tr>
        <td>{{i.id}}</td>
        <td>{{i.products.product_name}}</td>
        <td><img src="{{i.products.image.url}}" height="200" alt=""></td>
        <td>{{i.products.price}}</td>
        <td class=" justify-content-between">
            <a href="{% url 'cartdel' i.id %}" class="btn btn-danger">Delete</a>
            <a href="{% url 'order' i.id %}" class="btn btn-success">Place order</a>
        </td>
    </tr>
    {% endfor %}
    </tbody>
    </table>


{% endblock nav %}